# Ergasia_2_E18019_VAGIAKAKOS_DIMITRIOS
2η Απαλλακτική Εργασία στο μάθημα Πληροφοριακά Συστήματα. Τμήμα Ψηφιακών Συστημάτων Πανεπιστήμιο Πειραιώς

## Dependencies

Για την εκτέλεση του προγράμματος, κρίνεται απαραίτητη η εγκατάσταση του Docker. Για συστήματα βασισμένα στο Debian GNU/Linux δίνουμε:

```bash
sudo apt install docker-ce docker-ce-cli containerd.io
```
Το πρόγραμμα θα εκτελείται στην πόρτα 5000 μέσω flask και η Mongodb θα βρίσκεται στην πόρτα 27017. Βεβαιωθείτε ότι δεν τρέχει κάποια άλλη υπηρεσία σε αυτές τις πόρτες.

Στην MongoDB πρακτικά δημιουργήθηκε μία database "DSMarkets" με collections products και users. Στην Collection users υπάρχουν οι χρήστες και οι διαχειριστές του συστήματος καθώς στην product υπάρχουν τα προϊόντα.

## /createUser

Δίνοντας 0.0.0.0:5000/createUser με μέθοδο POST, μπορούμε να δημιουργήσουμε έναν χρήστη στο σύστημα. Ο Χρήστης θα δοθεί ως ένα json αρχείο της μορφής:

```json

{
        "email": "email addresss", 
        "password": "a very secure password"
    }
```
To πρόγραμμα ελέγχει αν το json αρχείο είναι στην σωστή μορφή και μόνο τότε γίνεται η δημιουργία του χρήστη. Επιπλέον, αν υπάρχει χρήστης με ίδιο email, πάλι δεν θα γίνεται η εισαγωγή. Aυτός ο έλεγχος ισχύει και σε όλα τα υπόλοιπα functions.

## /login 

Δίνοντας 0.0.0.0:5000/login με μέθοδο POST, μπορεί ένας user να κάνει login στο σύστημα. Ο Χρήστης θα δοθεί ως ένα json αρχείο της μορφής:

```json

{
        "email": "email addresss", 
        "password": "a very secure password"
    }
```

To πρόγραμμα ελέγχει αν το json αρχείο είναι στην σωστή μορφή και μόνο τότε γίνεται η προσπάθεια σύνδεσης του χρήστη. Αν το username δεν υπάρχει ή ο κωδικός του υπαρκτού username είναι λανθασμένος, τότε δεν γίνεται Login. 

Σε κάθε επιτυχημένο login, το πρόγραμμα επιστρέφει το username μαζί με το uuid. Το Uuid δημιουργείται κατά τo login, οπότε αλλάζει κάθε φορά που θα ξανακάνετε login στο πρόγραμμα.


## /getProduct/byname
Δίνοντας 0.0.0.0:5000/getProduct/byname με μέθοδο GET, μπορεί ένας user να αναζητήσει ένα προΪόν βάση του ονόματός του. Ο Χρήστης θα δοθεί ως ένα json αρχείο της μορφής:

```json
{"name" : "something" }
 ```
 Δικαίωμα αναζήτησης βάση ονόματος έχει αποκλειστικά χρήστης που έχει κάνει login πρώτα και έχει προστέσει το uuid του ως header στο "authorization". Διαφορετικά, το /getProduct/byname δεν θα λειτουργήσει.Επίσης, θα πραγματοποιηθεί ταξινόμηση βάση αλφαβητικής σειράς.
 
 ## /getProduct/bycategory
Δίνοντας 0.0.0.0:5000/getProduct/bycategory με μέθοδο GET, μπορεί ένας user να αναζητήσει ένα προΪόν βάση της κατηγορίας του. Ο Χρήστης θα δοθεί ως ένα json αρχείο της μορφής:

```json
{"category" : "something" }
 ```
 Δικαίωμα αναζήτησης βάση κατηγορίας έχει αποκλειστικά χρήστης που έχει κάνει login πρώτα και έχει προστέσει το uuid του ως header στο "authorization". Διαφορετικά, το /getProduct/bycategory δεν θα λειτουργήσει.Επίσης, θα πραγματοποιηθεί ταξινόμηση βάση τιμής.

 ## /getProduct/byid
Δίνοντας 0.0.0.0:5000/getProduct/byid με μέθοδο GET, μπορεί ένας user να αναζητήσει ένα προΪόν βάση του id του. Ο Χρήστης θα δοθεί ως ένα json αρχείο της μορφής:

```json
{"_id" : "something" }
 ```
 Δικαίωμα αναζήτησης βάση id έχει αποκλειστικά χρήστης που έχει κάνει login πρώτα και έχει προστέσει το uuid του ως header στο "authorization". Διαφορετικά, το /getProduct/byid δεν θα λειτουργήσει.

## /addincart

Δίνοντας 0.0.0.0:5000/addincart με μέθοδο POST, μπορεί ένας user να προσθέσει στο καλάθι προιόντα καθώς και τον αριθμό των προϊόντων οπού επιθυμεί. Το id του προϊόντος και η ποσότητα θα δοθεί ως ένα json αρχείο της μορφής:

```json
{"_id" : "something" ,
  "stock" : " integer" }
 ```
Δικαίωμα προσθεσης έχει αποκλειστικά χρήστης που έχει κάνει login πρώτα και έχει προστέσει το uuid του ως header στο "authorization". Διαφορετικά, το /addincart δεν θα λειτουργήσει.

